<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI DOC ALGÃ‰RIEN - Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</title>
    <!-- Ù…ÙƒØªØ¨Ø© jsPDF Ù„ØªØµØ¯ÙŠØ± PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <!-- Ù…ÙƒØªØ¨Ø© FileSaver Ù„ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <style>
        /* Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        :root {
            --primary-color: #2c5f2d;
            --secondary-color: #97bc62;
            --accent-color: #f0f7ee;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --card-bg: #fff;
            --border-color: #ddd;
            --warning-color: #b22222;
        }

        .dark-mode {
            --primary-color: #4a8c4a;
            --secondary-color: #7aa34d;
            --accent-color: #2a3d2a;
            --text-color: #f0f0f0;
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --border-color: #444;
            --warning-color: #ff6b6b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        header {
            background: linear-gradient(135deg, var(--primary-color), #1e3f1e);
            color: white;
            padding: 15px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .basmala {
            color: gold;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .republic {
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .app-title {
            font-size: 1.8rem;
            margin: 10px 0;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            background-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid white;
        }

        /* Ø§Ù„ØªÙ†Ù‚Ù„ */
        .nav-tabs {
            display: flex;
            background-color: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            overflow-x: auto;
            white-space: nowrap;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: bold;
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 20px 0;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© */
        .personal-data-form {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 5px;
            font-weight: 500;
        }

        input, select, textarea {
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Ù‚Ø³Ù… Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ */
        .document-types {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .doc-type {
            background-color: var(--accent-color);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .doc-type:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .doc-type.active {
            background-color: var(--secondary-color);
            color: white;
        }

        /* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© */
        .document-preview {
            min-height: 400px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 20px;
            background-color: white;
            color: #333;
            white-space: pre-line;
            line-height: 1.8;
            font-family: 'Times New Roman', Times, serif;
        }

        .preview-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .template-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .template-btn {
            padding: 8px 15px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background-color: var(--card-bg);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s;
        }

        .template-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† */
        .ad-container {
            background-color: #f0f0f0;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px dashed #ccc;
            margin: 20px 0;
            border-radius: 5px;
        }

        .ad-text {
            color: #888;
            font-style: italic;
        }

        /* Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ */
        .legal-warning {
            background-color: #fff8f8;
            border: 1px solid var(--warning-color);
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            color: var(--warning-color);
            font-weight: bold;
        }

        /* Ø§Ù„ØªØ°ÙŠÙŠÙ„ */
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 30px;
        }

        /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .personal-data-form {
                grid-template-columns: 1fr;
            }
            
            .document-types {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .preview-controls {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .document-types {
                grid-template-columns: 1fr;
            }
            
            .tab {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="basmala">Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ùˆ Ø³Ù„Ù… Ø¹Ù„Ù‰ Ø³ÙŠØ¯Ù†Ø§ Ù…Ø­Ù…Ø¯</div>
                <div class="republic">Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ© Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©</div>
                <h1 class="app-title">AI DOC ALGÃ‰RIEN - Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</h1>
                <div class="controls">
                    <button id="languageToggle" class="btn btn-outline">
                        <span>FranÃ§ais</span>
                    </button>
                    <button id="themeToggle" class="btn btn-outline">
                        <span>ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</span>
                    </button>
                    <button id="saveData" class="btn">
                        <span>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                    </button>
                    <button id="clearData" class="btn">
                        <span>ğŸ—‘ï¸ Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="nav-tabs">
        <div class="container">
            <div class="tab active" data-tab="personal">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
            <div class="tab" data-tab="documents">Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</div>
            <div class="tab" data-tab="preview">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</div>
            <div class="tab" data-tab="history">Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</div>
        </div>
    </div>

    <div class="container">
        <div class="main-content">
            <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© -->
            <div id="personalTab" class="tab-content active">
                <div class="card">
                    <h2 class="card-title">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
                    <div class="personal-data-form">
                        <div class="form-group">
                            <label for="firstName">Ø§Ù„Ø§Ø³Ù…</label>
                            <input type="text" id="firstName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…">
                        </div>
                        <div class="form-group">
                            <label for="lastName">Ø§Ù„Ù„Ù‚Ø¨</label>
                            <input type="text" id="lastName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù„Ù‚Ø¨">
                        </div>
                        <div class="form-group">
                            <label for="birthDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
                            <input type="date" id="birthDate">
                        </div>
                        <div class="form-group">
                            <label for="birthPlace">Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯</label>
                            <input type="text" id="birthPlace" placeholder="Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯">
                        </div>
                        <div class="form-group">
                            <label for="state">Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
                            <input type="text" id="state" placeholder="Ø§Ù„ÙˆÙ„Ø§ÙŠØ©">
                        </div>
                        <div class="form-group">
                            <label for="municipality">Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
                            <input type="text" id="municipality" placeholder="Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©">
                        </div>
                        <div class="form-group">
                            <label for="district">Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©</label>
                            <input type="text" id="district" placeholder="Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©">
                        </div>
                        <div class="form-group">
                            <label for="address">Ù…ÙƒØ§Ù† Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©/Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                            <input type="text" id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„">
                        </div>
                        <div class="form-group">
                            <label for="nationality">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                            <input type="text" id="nationality" value="Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©" placeholder="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©">
                        </div>
                        <div class="form-group">
                            <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                            <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                        </div>
                        <div class="form-group">
                            <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                            <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                        </div>
                        <div class="form-group">
                            <label for="profession">Ø§Ù„Ù…Ù‡Ù†Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="text" id="profession" placeholder="Ø§Ù„Ù…Ù‡Ù†Ø©">
                        </div>
                        <div class="form-group">
                            <label for="height">Ø§Ù„Ø·ÙˆÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="text" id="height" placeholder="Ø§Ù„Ø·ÙˆÙ„">
                        </div>
                        <div class="form-group full-width">
                            <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <textarea id="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ -->
            <div id="documentsTab" class="tab-content">
                <div class="card">
                    <h2 class="card-title">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</h2>
                    <div class="document-types">
                        <div class="doc-type" data-doc="affidavit">ØªØµØ±ÙŠØ­ Ø´Ø±ÙÙŠ</div>
                        <div class="doc-type" data-doc="request">Ø·Ù„Ø¨ Ø®Ø·ÙŠ</div>
                        <div class="doc-type" data-doc="rental">Ø¹Ù‚Ø¯ ÙƒØ±Ø§Ø¡</div>
                        <div class="doc-type" data-doc="sale">Ø¹Ù‚Ø¯ Ø¨ÙŠØ¹</div>
                        <div class="doc-type" data-doc="carSale">Ù…Ø­Ø¶Ø± Ø¨ÙŠØ¹ Ø³ÙŠØ§Ø±Ø©</div>
                        <div class="doc-type" data-doc="powerOfAttorney">ÙˆÙƒØ§Ù„Ø©/ØªÙÙˆÙŠØ¶</div>
                        <div class="doc-type" data-doc="workPermit">Ø·Ù„Ø¨ ØªØµØ±ÙŠØ­ Ø¹Ù…Ù„</div>
                        <div class="doc-type" data-doc="schoolRegistration">Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¯Ø±Ø³ÙŠ</div>
                        <div class="doc-type" data-doc="goodConduct">Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ø­Ø³Ù† Ø§Ù„Ø³ÙŠØ±Ø©</div>
                        <div class="doc-type" data-doc="partnership">Ø¹Ù‚Ø¯ Ø´Ø±Ø§ÙƒØ©</div>
                        <div class="doc-type" data-doc="temporaryResidence">ØªØµØ±ÙŠØ­ Ø³ÙƒÙ† Ù…Ø¤Ù‚Øª</div>
                        <div class="doc-type" data-doc="resignation">Ù†Ù…ÙˆØ°Ø¬ Ø§Ø³ØªÙ‚Ø§Ù„Ø©</div>
                        <div class="doc-type" data-doc="cv">Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©</div>
                    </div>
                </div>

                <!-- Ø­Ù‚ÙˆÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© -->
                <div id="documentFields" class="card" style="display: none;">
                    <h2 class="card-title">ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</h2>
                    <div id="dynamicFields"></div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© -->
            <div id="previewTab" class="tab-content">
                <div class="card">
                    <h2 class="card-title">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</h2>
                    
                    <div class="legal-warning">
                        âš ï¸ ØªØ­Ø°ÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠ: Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØºÙŠØ± Ø±Ø³Ù…ÙŠØ© ÙˆÙ„Ø§ ØªØ­Ù„ Ù…Ø­Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„ØµØ§Ø¯Ø±Ø© Ø¹Ù† Ø§Ù„Ø³Ù„Ø·Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©. Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙƒÙˆØ«ÙŠÙ‚Ø© Ø±Ø³Ù…ÙŠØ©.
                    </div>
                    
                    <div class="template-selector">
                        <div class="template-btn active" data-template="1">Ù‚Ø§Ù„Ø¨ 1 (Ø±Ø³Ù…ÙŠ)</div>
                        <div class="template-btn" data-template="2">Ù‚Ø§Ù„Ø¨ 2 (Ù…Ø¨Ø³Ø·)</div>
                        <div class="template-btn" data-template="3">Ù‚Ø§Ù„Ø¨ 3 (ØºÙŠØ± Ø±Ø³Ù…ÙŠ)</div>
                    </div>
                    
                    <div class="document-preview" id="documentPreview">
                        Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ÙˆØ£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ø«Ù… Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©"
                    </div>
                    
                    <div class="preview-controls">
                        <button id="generatePreview" class="btn">
                            <span>ğŸ”„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</span>
                        </button>
                        <button id="downloadPDF" class="btn">
                            <span>ğŸ“„ ØªØ­Ù…ÙŠÙ„ PDF</span>
                        </button>
                        <button id="downloadWord" class="btn">
                            <span>ğŸ“ ØªØ­Ù…ÙŠÙ„ Word</span>
                        </button>
                        <button id="printDoc" class="btn">
                            <span>ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</span>
                        </button>
                        <button id="saveDocument" class="btn">
                            <span>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ -->
            <div id="historyTab" class="tab-content">
                <div class="card">
                    <h2 class="card-title">Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h2>
                    <div id="documentHistory">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                </div>
            </div>

            <!-- Ù…ÙƒØ§Ù† Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
            <div class="ad-container">
                <div class="ad-text">Ù…Ø³Ø§Ø­Ø© Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© - Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù‡Ù†Ø§</div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>AI DOC ALGÃ‰RIEN - Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©</p>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙˆÙ„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø£ÙŠ Ø®Ø§Ø¯Ù… Ø®Ø§Ø±Ø¬ÙŠ</p>
            <p>Â© 2023 - ØªØ·ÙˆÙŠØ± ÙˆØ·Ù†ÙŠ</p>
        </div>
    </footer>

    <script>
        // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            let currentLanguage = 'ar';
            let currentTheme = 'light';
            let currentDocumentType = '';
            let currentTemplate = '1';
            let personalData = {};
            let documentHistory = [];
            
            // Ø¹Ù†Ø§ØµØ± DOM Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            const languageToggle = document.getElementById('languageToggle');
            const themeToggle = document.getElementById('themeToggle');
            const saveDataBtn = document.getElementById('saveData');
            const clearDataBtn = document.getElementById('clearData');
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const docTypes = document.querySelectorAll('.doc-type');
            const documentFields = document.getElementById('documentFields');
            const dynamicFields = document.getElementById('dynamicFields');
            const templateBtns = document.querySelectorAll('.template-btn');
            const generatePreviewBtn = document.getElementById('generatePreview');
            const downloadPDFBtn = document.getElementById('downloadPDF');
            const downloadWordBtn = document.getElementById('downloadWord');
            const printDocBtn = document.getElementById('printDoc');
            const saveDocumentBtn = document.getElementById('saveDocument');
            const documentPreview = document.getElementById('documentPreview');
            const documentHistoryEl = document.getElementById('documentHistory');
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            loadSavedData();
            
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
            languageToggle.addEventListener('click', function() {
                currentLanguage = currentLanguage === 'ar' ? 'fr' : 'ar';
                updateLanguage();
            });
            
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„ÙØ§ØªØ­
            themeToggle.addEventListener('click', function() {
                currentTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.body.classList.toggle('dark-mode');
                updateThemeText();
            });
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            saveDataBtn.addEventListener('click', function() {
                savePersonalData();
                alert(currentLanguage === 'ar' ? 'ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'DonnÃ©es sauvegardÃ©es avec succÃ¨s');
            });
            
            // Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            clearDataBtn.addEventListener('click', function() {
                if (confirm(currentLanguage === 'ar' ? 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ÙØ±Ø§Øº Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ' : 'ÃŠtes-vous sÃ»r de vouloir effacer toutes les donnÃ©es?')) {
                    clearPersonalData();
                    alert(currentLanguage === 'ar' ? 'ØªÙ… Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª' : 'DonnÃ©es effacÃ©es');
                }
            });
            
            // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†Ø´Ø·
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(tabId + 'Tab').classList.add('active');
                });
            });
            
            // Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©
            docTypes.forEach(docType => {
                docType.addEventListener('click', function() {
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„Ù†Ø´Ø·Ø©
                    docTypes.forEach(dt => dt.classList.remove('active'));
                    this.classList.add('active');
                    
                    currentDocumentType = this.getAttribute('data-doc');
                    showDocumentFields(currentDocumentType);
                    
                    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelector('.tab[data-tab="preview"]').classList.add('active');
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById('previewTab').classList.add('active');
                });
            });
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø§Ù„Ø¨
            templateBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    templateBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentTemplate = this.getAttribute('data-template');
                });
            });
            
            // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
            generatePreviewBtn.addEventListener('click', function() {
                generateDocumentPreview();
            });
            
            // ØªØ­Ù…ÙŠÙ„ PDF
            downloadPDFBtn.addEventListener('click', function() {
                generatePDF();
            });
            
            // ØªØ­Ù…ÙŠÙ„ Word
            downloadWordBtn.addEventListener('click', function() {
                generateWord();
            });
            
            // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©
            printDocBtn.addEventListener('click', function() {
                window.print();
            });
            
            // Ø­ÙØ¸ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
            saveDocumentBtn.addEventListener('click', function() {
                saveToHistory();
            });
            
            // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„ØºØ©
            function updateLanguage() {
                if (currentLanguage === 'ar') {
                    languageToggle.innerHTML = '<span>FranÃ§ais</span>';
                    document.documentElement.dir = 'rtl';
                    document.documentElement.lang = 'ar';
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                    updateArabicText();
                } else {
                    languageToggle.innerHTML = '<span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>';
                    document.documentElement.dir = 'ltr';
                    document.documentElement.lang = 'fr';
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©
                    updateFrenchText();
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„ÙØ§ØªØ­
            function updateThemeText() {
                if (currentLanguage === 'ar') {
                    themeToggle.innerHTML = currentTheme === 'light' ? '<span>ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</span>' : '<span>â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­</span>';
                } else {
                    themeToggle.innerHTML = currentTheme === 'light' ? '<span>ğŸŒ™ Mode sombre</span>' : '<span>â˜€ï¸ Mode clair</span>';
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            function updateArabicText() {
                // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                document.querySelector('.app-title').textContent = 'AI DOC ALGÃ‰RIEN - Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©';
                document.querySelector('.tab[data-tab="personal"]').textContent = 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©';
                document.querySelector('.tab[data-tab="documents"]').textContent = 'Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚';
                document.querySelector('.tab[data-tab="preview"]').textContent = 'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©';
                document.querySelector('.tab[data-tab="history"]').textContent = 'Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                saveDataBtn.innerHTML = '<span>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>';
                clearDataBtn.innerHTML = '<span>ğŸ—‘ï¸ Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>';
                generatePreviewBtn.innerHTML = '<span>ğŸ”„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</span>';
                downloadPDFBtn.innerHTML = '<span>ğŸ“„ ØªØ­Ù…ÙŠÙ„ PDF</span>';
                downloadWordBtn.innerHTML = '<span>ğŸ“ ØªØ­Ù…ÙŠÙ„ Word</span>';
                printDocBtn.innerHTML = '<span>ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</span>';
                saveDocumentBtn.innerHTML = '<span>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©</span>';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø£Ø®Ø±Ù‰
                document.querySelector('#personalTab .card-title').textContent = 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©';
                document.querySelector('#documentsTab .card-title').textContent = 'Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©';
                document.querySelector('#previewTab .card-title').textContent = 'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©';
                document.querySelector('#historyTab .card-title').textContent = 'Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©';
                
                // ØªØ­Ø¯ÙŠØ« Ù†ØµÙˆØµ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
                document.querySelector('.doc-type[data-doc="affidavit"]').textContent = 'ØªØµØ±ÙŠØ­ Ø´Ø±ÙÙŠ';
                document.querySelector('.doc-type[data-doc="request"]').textContent = 'Ø·Ù„Ø¨ Ø®Ø·ÙŠ';
                document.querySelector('.doc-type[data-doc="rental"]').textContent = 'Ø¹Ù‚Ø¯ ÙƒØ±Ø§Ø¡';
                document.querySelector('.doc-type[data-doc="sale"]').textContent = 'Ø¹Ù‚Ø¯ Ø¨ÙŠØ¹';
                document.querySelector('.doc-type[data-doc="carSale"]').textContent = 'Ù…Ø­Ø¶Ø± Ø¨ÙŠØ¹ Ø³ÙŠØ§Ø±Ø©';
                document.querySelector('.doc-type[data-doc="powerOfAttorney"]').textContent = 'ÙˆÙƒØ§Ù„Ø©/ØªÙÙˆÙŠØ¶';
                document.querySelector('.doc-type[data-doc="workPermit"]').textContent = 'Ø·Ù„Ø¨ ØªØµØ±ÙŠØ­ Ø¹Ù…Ù„';
                document.querySelector('.doc-type[data-doc="schoolRegistration"]').textContent = 'Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¯Ø±Ø³ÙŠ';
                document.querySelector('.doc-type[data-doc="goodConduct"]').textContent = 'Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ø­Ø³Ù† Ø§Ù„Ø³ÙŠØ±Ø©';
                document.querySelector('.doc-type[data-doc="partnership"]').textContent = 'Ø¹Ù‚Ø¯ Ø´Ø±Ø§ÙƒØ©';
                document.querySelector('.doc-type[data-doc="temporaryResidence"]').textContent = 'ØªØµØ±ÙŠØ­ Ø³ÙƒÙ† Ù…Ø¤Ù‚Øª';
                document.querySelector('.doc-type[data-doc="resignation"]').textContent = 'Ù†Ù…ÙˆØ°Ø¬ Ø§Ø³ØªÙ‚Ø§Ù„Ø©';
                document.querySelector('.doc-type[data-doc="cv"]').textContent = 'Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©';
                
                // ØªØ­Ø¯ÙŠØ« Ù†ØµÙˆØµ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
                document.querySelector('.template-btn[data-template="1"]').textContent = 'Ù‚Ø§Ù„Ø¨ 1 (Ø±Ø³Ù…ÙŠ)';
                document.querySelector('.template-btn[data-template="2"]').textContent = 'Ù‚Ø§Ù„Ø¨ 2 (Ù…Ø¨Ø³Ø·)';
                document.querySelector('.template-btn[data-template="3"]').textContent = 'Ù‚Ø§Ù„Ø¨ 3 (ØºÙŠØ± Ø±Ø³Ù…ÙŠ)';
                
                // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ
                document.querySelector('.legal-warning').innerHTML = 'âš ï¸ ØªØ­Ø°ÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠ: Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØºÙŠØ± Ø±Ø³Ù…ÙŠØ© ÙˆÙ„Ø§ ØªØ­Ù„ Ù…Ø­Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„ØµØ§Ø¯Ø±Ø© Ø¹Ù† Ø§Ù„Ø³Ù„Ø·Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©. Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙƒÙˆØ«ÙŠÙ‚Ø© Ø±Ø³Ù…ÙŠØ©.';
                
                // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                document.querySelector('.ad-text').textContent = 'Ù…Ø³Ø§Ø­Ø© Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© - Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù‡Ù†Ø§';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ°ÙŠÙŠÙ„
                document.querySelector('footer p:nth-child(1)').textContent = 'AI DOC ALGÃ‰RIEN - Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©';
                document.querySelector('footer p:nth-child(2)').textContent = 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙˆÙ„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø£ÙŠ Ø®Ø§Ø¯Ù… Ø®Ø§Ø±Ø¬ÙŠ';
                document.querySelector('footer p:nth-child(3)').textContent = 'Â© 2023 - ØªØ·ÙˆÙŠØ± ÙˆØ·Ù†ÙŠ';
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©
            function updateFrenchText() {
                // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©
                document.querySelector('.app-title').textContent = 'AI DOC ALGÃ‰RIEN - GÃ©nÃ©rateur de Documents LÃ©gaux';
                document.querySelector('.tab[data-tab="personal"]').textContent = 'DonnÃ©es Personnelles';
                document.querySelector('.tab[data-tab="documents"]').textContent = 'Documents';
                document.querySelector('.tab[data-tab="preview"]').textContent = 'AperÃ§u du Document';
                document.querySelector('.tab[data-tab="history"]').textContent = 'Historique des Documents';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                saveDataBtn.innerHTML = '<span>ğŸ’¾ Sauvegarder les DonnÃ©es</span>';
                clearDataBtn.innerHTML = '<span>ğŸ—‘ï¸ Effacer les DonnÃ©es</span>';
                generatePreviewBtn.innerHTML = '<span>ğŸ”„ GÃ©nÃ©rer l\'AperÃ§u</span>';
                downloadPDFBtn.innerHTML = '<span>ğŸ“„ TÃ©lÃ©charger PDF</span>';
                downloadWordBtn.innerHTML = '<span>ğŸ“ TÃ©lÃ©charger Word</span>';
                printDocBtn.innerHTML = '<span>ğŸ–¨ï¸ Imprimer</span>';
                saveDocumentBtn.innerHTML = '<span>ğŸ’¾ Sauvegarder le Document</span>';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø£Ø®Ø±Ù‰
                document.querySelector('#personalTab .card-title').textContent = 'DonnÃ©es Personnelles';
                document.querySelector('#documentsTab .card-title').textContent = 'Choisissez le Type de Document';
                document.querySelector('#previewTab .card-title').textContent = 'AperÃ§u du Document';
                document.querySelector('#historyTab .card-title').textContent = 'Historique des Documents SauvegardÃ©s';
                
                // ØªØ­Ø¯ÙŠØ« Ù†ØµÙˆØµ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
                document.querySelector('.doc-type[data-doc="affidavit"]').textContent = 'DÃ©claration sur l\'Honneur';
                document.querySelector('.doc-type[data-doc="request"]').textContent = 'Demande Ã‰crite';
                document.querySelector('.doc-type[data-doc="rental"]').textContent = 'Contrat de Location';
                document.querySelector('.doc-type[data-doc="sale"]').textContent = 'Contrat de Vente';
                document.querySelector('.doc-type[data-doc="carSale"]').textContent = 'ProcÃ¨s-verbal de Vente de Voiture';
                document.querySelector('.doc-type[data-doc="powerOfAttorney"]').textContent = 'Procuration/Mandat';
                document.querySelector('.doc-type[data-doc="workPermit"]').textContent = 'Demande de Permis de Travail';
                document.querySelector('.doc-type[data-doc="schoolRegistration"]').textContent = 'Demande d\'Inscription Scolaire';
                document.querySelector('.doc-type[data-doc="goodConduct"]').textContent = 'Demande de Certificat de Bonne Conduite';
                document.querySelector('.doc-type[data-doc="partnership"]').textContent = 'Contrat de Partenariat';
                document.querySelector('.doc-type[data-doc="temporaryResidence"]').textContent = 'Autorisation de RÃ©sidence Temporaire';
                document.querySelector('.doc-type[data-doc="resignation"]').textContent = 'ModÃ¨le de DÃ©mission';
                document.querySelector('.doc-type[data-doc="cv"]').textContent = 'Curriculum Vitae';
                
                // ØªØ­Ø¯ÙŠØ« Ù†ØµÙˆØµ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
                document.querySelector('.template-btn[data-template="1"]').textContent = 'ModÃ¨le 1 (Officiel)';
                document.querySelector('.template-btn[data-template="2"]').textContent = 'ModÃ¨le 2 (SimplifiÃ©)';
                document.querySelector('.template-btn[data-template="3"]').textContent = 'ModÃ¨le 3 (Informel)';
                
                // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ
                document.querySelector('.legal-warning').innerHTML = 'âš ï¸ Avertissement LÃ©gal: Ce document est non officiel et ne remplace pas les documents officiels dÃ©livrÃ©s par les autoritÃ©s compÃ©tentes. Il ne peut pas Ãªtre utilisÃ© comme document officiel.';
                
                // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                document.querySelector('.ad-text').textContent = 'Espace Publicitaire - Les annonces seront affichÃ©es ici';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ°ÙŠÙŠÙ„
                document.querySelector('footer p:nth-child(1)').textContent = 'AI DOC ALGÃ‰RIEN - GÃ©nÃ©rateur de Documents LÃ©gaux AlgÃ©riens';
                document.querySelector('footer p:nth-child(2)').textContent = 'Toutes les donnÃ©es sont stockÃ©es localement sur votre appareil et ne sont pas envoyÃ©es Ã  un serveur externe';
                document.querySelector('footer p:nth-child(3)').textContent = 'Â© 2023 - DÃ©veloppement National';
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©
            function showDocumentFields(docType) {
                documentFields.style.display = 'block';
                dynamicFields.innerHTML = '';
                
                let fieldsHTML = '';
                
                switch(docType) {
                    case 'affidavit':
                        fieldsHTML = `
                            <div class="form-group">
                                <label for="affidavitType">Ù†ÙˆØ¹ Ø§Ù„ØªØµØ±ÙŠØ­ Ø§Ù„Ø´Ø±ÙÙŠ</label>
                                <select id="affidavitType">
                                    <option value="noWork">Ø¹Ø¯Ù… Ø§Ù„Ø¹Ù…Ù„</option>
                                    <option value="noResidence">Ø¹Ø¯Ù… Ø§Ù„Ø³ÙƒÙ†</option>
                                    <option value="lostDocument">ÙÙ‚Ø¯Ø§Ù† ÙˆØ«ÙŠÙ‚Ø©</option>
                                    <option value="singleStatus">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ø²Ø¨Ø©</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="affidavitDetails">ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©</label>
                                <textarea id="affidavitDetails" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØªØµØ±ÙŠØ­ Ø§Ù„Ø´Ø±ÙÙŠ"></textarea>
                            </div>
                        `;
                        break;
                    case 'request':
                        fieldsHTML = `
                            <div class="form-group">
                                <label for="requestType">Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</label>
                                <select id="requestType">
                                    <option value="administrative">Ø·Ù„Ø¨ Ø¥Ø¯Ø§Ø±ÙŠ</option>
                                    <option value="housing">Ø·Ù„Ø¨ Ø³ÙƒÙ†</option>
                                    <option value="workCertificate">Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ø¹Ù…Ù„</option>
                                    <option value="transfer">Ø·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="requestRecipient">Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø¥Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø·Ù„Ø¨</label>
                                <input type="text" id="requestRecipient" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø©">
                            </div>
                            <div class="form-group">
                                <label for="requestDetails">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</label>
                                <textarea id="requestDetails" placeholder="Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨"></textarea>
                            </div>
                        `;
                        break;
                    case 'rental':
                        fieldsHTML = `
                            <div class="form-group">
                                <label for="landlordName">Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø¬Ø±</label>
                                <input type="text" id="landlordName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø¬Ø± Ø§Ù„ÙƒØ§Ù…Ù„">
                            </div>
                            <div class="form-group">
                                <label for="tenantName">Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØªØ±ÙŠ</label>
                                <input type="text" id="tenantName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØªØ±ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„">
                            </div>
                            <div class="form-group">
                                <label for="rentalAddress">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±</label>
                                <input type="text" id="rentalAddress" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„Ù…Ø¤Ø¬Ø±">
                            </div>
                            <div class="form-group">
                                <label for="rentalAmount">Ù‚ÙŠÙ…Ø© Ø§Ù„ÙƒØ±Ø§Ø¡</label>
                                <input type="text" id="rentalAmount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠ">
                            </div>
                            <div class="form-group">
                                <label for="rentalDuration">Ù…Ø¯Ø© Ø§Ù„ÙƒØ±Ø§Ø¡</label>
                                <input type="text" id="rentalDuration" placeholder="Ù…Ø«Ø§Ù„: 12 Ø´Ù‡Ø±">
                            </div>
                        `;
                        break;
                    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø£Ø®Ø±Ù‰
                    default:
                        fieldsHTML = `<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù‚ÙˆÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</p>`;
                }
                
                dynamicFields.innerHTML = fieldsHTML;
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©
            function generateDocumentPreview() {
                if (!currentDocumentType) {
                    documentPreview.textContent = currentLanguage === 'ar' 
                        ? 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø£ÙˆÙ„Ø§Ù‹' 
                        : 'Veuillez d\'abord choisir un type de document';
                    return;
                }
                
                // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
                collectPersonalData();
                
                // ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ ÙˆØ§Ù„Ù‚Ø§Ù„Ø¨
                let documentContent = '';
                
                switch(currentDocumentType) {
                    case 'affidavit':
                        documentContent = generateAffidavitContent();
                        break;
                    case 'request':
                        documentContent = generateRequestContent();
                        break;
                    case 'rental':
                        documentContent = generateRentalContent();
                        break;
                    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
                    default:
                        documentContent = currentLanguage === 'ar' 
                            ? 'Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ' 
                            : 'Type de document inconnu';
                }
                
                documentPreview.innerHTML = documentContent;
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØµØ±ÙŠØ­ Ø§Ù„Ø´Ø±ÙÙŠ
            function generateAffidavitContent() {
                const affidavitType = document.getElementById('affidavitType').value;
                const affidavitDetails = document.getElementById('affidavitDetails').value;
                
                let typeText = '';
                switch(affidavitType) {
                    case 'noWork':
                        typeText = currentLanguage === 'ar' ? 'Ø¹Ø¯Ù… Ø§Ù„Ø¹Ù…Ù„' : 'Non-travail';
                        break;
                    case 'noResidence':
                        typeText = currentLanguage === 'ar' ? 'Ø¹Ø¯Ù… Ø§Ù„Ø³ÙƒÙ†' : 'Non-rÃ©sidence';
                        break;
                    case 'lostDocument':
                        typeText = currentLanguage === 'ar' ? 'ÙÙ‚Ø¯Ø§Ù† ÙˆØ«ÙŠÙ‚Ø©' : 'Perte de document';
                        break;
                    case 'singleStatus':
                        typeText = currentLanguage === 'ar' ? 'Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ø²Ø¨Ø©' : 'Statut de cÃ©libataire';
                        break;
                }
                
                if (currentLanguage === 'ar') {
                    return `
                        ØªØµØ±ÙŠØ­ Ø´Ø±ÙÙŠ
                        
                        Ø£Ù†Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹(Ø©) Ø£Ø¯Ù†Ø§Ù‡:
                        Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù„Ù‚Ø¨: ${personalData.firstName} ${personalData.lastName}
                        ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: ${personalData.birthDate}
                        Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø²Ø¯ÙŠØ§Ø¯: ${personalData.birthPlace}
                        Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${personalData.address}
                        ${personalData.phone ? `Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${personalData.phone}` : ''}
                        
                        Ø£ØµØ±Ø­ Ø¨Ø´Ø±ÙÙŠ Ø£Ù†:
                        ${affidavitDetails || `Ø£Ù†Ø§ ÙÙŠ Ø­Ø§Ù„Ø© ${typeText} ÙˆÙ„Ø§ Ø£Ù…Ù„Ùƒ Ø£ÙŠ Ù…ØµØ¯Ø± Ø¯Ø®Ù„/Ø³ÙƒÙ†/ÙˆØ«ÙŠÙ‚Ø©/Ø¥Ù„Ø®`}
                        
                        ÙˆØ£ØªØ¹Ù‡Ø¯ Ø¨ØªØ­Ù…Ù„ ÙƒØ§ÙØ© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø§Ù„Ù…ØªØ±ØªØ¨Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„ØªØµØ±ÙŠØ­.
                        
                        Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}
                        Ø§Ù„ØªÙˆÙ‚ÙŠØ¹: _______________
                        
                        âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ Ø§Ù„ØªØµØ±ÙŠØ­ ØºÙŠØ± Ø±Ø³Ù…ÙŠ ÙˆÙ„Ø§ ÙŠØ­Ù„ Ù…Ø­Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø±Ø³Ù…ÙŠØ©.
                    `;
                } else {
                    return `
                        DÃ©claration sur l'Honneur
                        
                        Je soussignÃ©(e):
                        Nom et PrÃ©nom: ${personalData.firstName} ${personalData.lastName}
                        Date de naissance: ${personalData.birthDate}
                        Lieu de naissance: ${personalData.birthPlace}
                        Adresse: ${personalData.address}
                        ${personalData.phone ? `TÃ©lÃ©phone: ${personalData.phone}` : ''}
                        
                        DÃ©clare sur mon honneur que:
                        ${affidavitDetails || `Je suis en situation de ${typeText} et je ne dispose d'aucune source de revenu/logement/document/etc`}
                        
                        Et m'engage Ã  assumer toutes les responsabilitÃ©s lÃ©gales dÃ©coulant de cette dÃ©claration.
                        
                        Date: ${new Date().toLocaleDateString('fr-FR')}
                        Signature: _______________
                        
                        âš ï¸ Avertissement: Cette dÃ©claration est non officielle et ne remplace pas les documents officiels.
                    `;
                }
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø®Ø·ÙŠ
            function generateRequestContent() {
                const requestType = document.getElementById('requestType').value;
                const requestRecipient = document.getElementById('requestRecipient').value;
                const requestDetails = document.getElementById('requestDetails').value;
                
                let typeText = '';
                switch(requestType) {
                    case 'administrative':
                        typeText = currentLanguage === 'ar' ? 'Ø·Ù„Ø¨ Ø¥Ø¯Ø§Ø±ÙŠ' : 'Demande administrative';
                        break;
                    case 'housing':
                        typeText = currentLanguage === 'ar' ? 'Ø·Ù„Ø¨ Ø³ÙƒÙ†' : 'Demande de logement';
                        break;
                    case 'workCertificate':
                        typeText = currentLanguage === 'ar' ? 'Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ø¹Ù…Ù„' : 'Demande de certificat de travail';
                        break;
                    case 'transfer':
                        typeText = currentLanguage === 'ar' ? 'Ø·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„' : 'Demande de transfert';
                        break;
                }
                
                if (currentLanguage === 'ar') {
                    return `
                        ${typeText}
                        
                        Ø¥Ù„Ù‰: ${requestRecipient || 'Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø®ØªØµØ©'}
                        
                        Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹: ${typeText}
                        
                        Ø§Ù„Ø³ÙŠØ¯/Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„(Ø©)ØŒ
                        
                        Ø£ØªÙ‚Ø¯Ù… Ø¥Ù„ÙŠÙƒÙ… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ${typeText} ÙˆØ£Ø±Ø¬Ùˆ Ù…Ù†ÙƒÙ… Ø§Ù„ØªÙƒØ±Ù… Ø¨Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡.
                        
                        ${requestDetails || `Ø£Ù†Ø§ Ø§Ù„Ù…ÙˆØ§Ø·Ù†(Ø©) ${personalData.firstName} ${personalData.lastName}ØŒ Ø£ØªÙ‚Ø¯Ù… Ø¨Ø·Ù„Ø¨ ${typeText} Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø´Ø®ØµÙŠØ©/Ù…Ù‡Ù†ÙŠØ©.`}
                        
                        Ù…Ø¹ Ø®Ø§Ù„Øµ Ø§Ù„Ø´ÙƒØ± ÙˆØ§Ù„ØªÙ‚Ø¯ÙŠØ±ØŒ
                        
                        ${personalData.firstName} ${personalData.lastName}
                        ${personalData.address ? `Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${personalData.address}` : ''}
                        ${personalData.phone ? `Ø§Ù„Ù‡Ø§ØªÙ: ${personalData.phone}` : ''}
                        ${personalData.email ? `Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: ${personalData.email}` : ''}
                        
                        Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}
                        Ø§Ù„ØªÙˆÙ‚ÙŠØ¹: _______________
                        
                        âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ø±Ø³Ù…ÙŠ ÙˆÙ„Ø§ ÙŠØ­Ù„ Ù…Ø­Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©.
                    `;
                } else {
                    return `
                        ${typeText}
                        
                        Ã€: ${requestRecipient || 'AutoritÃ© compÃ©tente'}
                        
                        Objet: ${typeText}
                        
                        Monsieur/Madame le Responsable,
                        
                        Je vous prÃ©sente cette demande de ${typeText} et vous prie de bien vouloir l'approuver.
                        
                        ${requestDetails || `Je, soussignÃ©(e) ${personalData.firstName} ${personalData.lastName}, prÃ©sente une demande de ${typeText} pour des raisons personnelles/professionnelles.`}
                        
                        Avec mes remerciements et ma considÃ©ration,
                        
                        ${personalData.firstName} ${personalData.lastName}
                        ${personalData.address ? `Adresse: ${personalData.address}` : ''}
                        ${personalData.phone ? `TÃ©lÃ©phone: ${personalData.phone}` : ''}
                        ${personalData.email ? `Email: ${personalData.email}` : ''}
                        
                        Date: ${new Date().toLocaleDateString('fr-FR')}
                        Signature: _______________
                        
                        âš ï¸ Avertissement: Cette demande est non officielle et ne remplace pas les demandes officielles.
                    `;
                }
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø­ØªÙˆÙ‰ Ø¹Ù‚Ø¯ Ø§Ù„ÙƒØ±Ø§Ø¡
            function generateRentalContent() {
                const landlordName = document.getElementById('landlordName').value;
                const tenantName = document.getElementById('tenantName').value;
                const rentalAddress = document.getElementById('rentalAddress').value;
                const rentalAmount = document.getElementById('rentalAmount').value;
                const rentalDuration = document.getElementById('rentalDuration').value;
                
                if (currentLanguage === 'ar') {
                    return `
                        Ø¹Ù‚Ø¯ ÙƒØ±Ø§Ø¡
                        
                        ØªÙ… Ø§Ù„Ø§ØªÙØ§Ù‚ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø¯ Ø¨ÙŠÙ†:
                        
                        Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø£ÙˆÙ„ (Ø§Ù„Ù…Ø¤Ø¬Ø±):
                        Ø§Ù„Ø§Ø³Ù…: ${landlordName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
                        
                        ÙˆØ§Ù„Ø·Ø±Ù Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ù„Ù…ÙƒØªØ±ÙŠ):
                        Ø§Ù„Ø§Ø³Ù…: ${tenantName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
                        ${personalData.address ? `Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${personalData.address}` : ''}
                        ${personalData.phone ? `Ø§Ù„Ù‡Ø§ØªÙ: ${personalData.phone}` : ''}
                        
                        Ø¹Ù„Ù‰ ÙƒØ±Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø§Ø± Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ:
                        ${rentalAddress || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
                        
                        Ø¨Ø´Ø±ÙˆØ· ÙˆØ£Ø­ÙƒØ§Ù…å¦‚ä¸‹:
                        1. Ù…Ø¯Ø© Ø§Ù„ÙƒØ±Ø§Ø¡: ${rentalDuration || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©'}
                        2. Ù‚ÙŠÙ…Ø© Ø§Ù„ÙƒØ±Ø§Ø¡: ${rentalAmount || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©'} Ø¯ÙŠÙ†Ø§Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠ Ø´Ù‡Ø±ÙŠØ§Ù‹
                        3. ÙŠØ¯ÙØ¹ Ø§Ù„ÙƒØ±Ø§Ø¡ Ù…Ù‚Ø¯Ù…Ø§Ù‹ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© ÙƒÙ„ Ø´Ù‡Ø±
                        4. ÙŠØªØ­Ù…Ù„ Ø§Ù„Ù…ÙƒØªØ±ÙŠ Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
                        5. ÙŠØ­Ù‚ Ù„Ù„Ù…Ø¤Ø¬Ø± ÙØ³Ø® Ø§Ù„Ø¹Ù‚Ø¯ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø¯ÙØ¹ Ø§Ù„ÙƒØ±Ø§Ø¡
                        
                        ÙˆÙ‚Ø¯ Ø£Ù‚Ø± Ø§Ù„Ø·Ø±ÙØ§Ù† Ø¨Ù…Ø§ Ø¬Ø§Ø¡ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆÙˆÙ‚Ø¹Ø§Ù‡ Ø¹Ù„Ù‰ Ø°Ù„Ùƒ.
                        
                        ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¤Ø¬Ø±: _______________        Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}
                        ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ±ÙŠ: _______________        Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}
                        
                        âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø¯ ØºÙŠØ± Ø±Ø³Ù…ÙŠ ÙˆÙ„Ø§ ÙŠØ­Ù„ Ù…Ø­Ù„ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ù„Ø¯Ù‰ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©.
                    `;
                } else {
                    return `
                        Contrat de Location
                        
                        Accord conclu dans ce contrat entre:
                        
                        PremiÃ¨re Partie (PropriÃ©taire):
                        Nom: ${landlordName || 'Non spÃ©cifiÃ©'}
                        
                        et DeuxiÃ¨me Partie (Locataire):
                        Nom: ${tenantName || 'Non spÃ©cifiÃ©'}
                        ${personalData.address ? `Adresse: ${personalData.address}` : ''}
                        ${personalData.phone ? `TÃ©lÃ©phone: ${personalData.phone}` : ''}
                        
                        pour la location du bien situÃ© Ã :
                        ${rentalAddress || 'Non spÃ©cifiÃ©'}
                        
                        Aux conditions et clauses suivantes:
                        1. DurÃ©e de location: ${rentalDuration || 'Non spÃ©cifiÃ©e'}
                        2. Montant du loyer: ${rentalAmount || 'Non spÃ©cifiÃ©'} dinars algÃ©riens par mois
                        3. Le loyer est payÃ© d'avance au dÃ©but de chaque mois
                        4. Le locataire supporte les frais d'entretien mineurs
                        5. Le propriÃ©taire a le droit de rÃ©silier le contrat en cas de non-paiement du loyer
                        
                        Les deux parties ont approuvÃ© le contenu de ce contrat et l'ont signÃ© Ã  cet effet.
                        
                        Signature du PropriÃ©taire: _______________        Date: ${new Date().toLocaleDateString('fr-FR')}
                        Signature du Locataire: _______________        Date: ${new Date().toLocaleDateString('fr-FR')}
                        
                        âš ï¸ Avertissement: Ce contrat est non officiel et ne remplace pas les contrats officiels enregistrÃ©s auprÃ¨s des autoritÃ©s compÃ©tentes.
                    `;
                }
            }
            
            // ØªÙˆÙ„ÙŠØ¯ PDF
            function generatePDF() {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø¥Ù„Ù‰ PDF
                const content = documentPreview.innerText;
                const lines = doc.splitTextToSize(content, 180);
                
                doc.setFontSize(12);
                doc.text(lines, 10, 10);
                
                // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
                doc.save(`document_${new Date().getTime()}.pdf`);
            }
            
            // ØªÙˆÙ„ÙŠØ¯ Ù…Ø³ØªÙ†Ø¯ Word
            function generateWord() {
                const content = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>Document</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; }
                            .warning { color: red; font-weight: bold; }
                        </style>
                    </head>
                    <body>
                        <pre>${documentPreview.innerText}</pre>
                    </body>
                    </html>
                `;
                
                const blob = new Blob([content], { type: 'application/msword' });
                saveAs(blob, `document_${new Date().getTime()}.doc`);
            }
            
            // Ø­ÙØ¸ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
            function saveToHistory() {
                const documentData = {
                    id: new Date().getTime(),
                    type: currentDocumentType,
                    content: documentPreview.innerText,
                    date: new Date().toLocaleString(),
                    template: currentTemplate
                };
                
                documentHistory.push(documentData);
                localStorage.setItem('documentHistory', JSON.stringify(documentHistory));
                
                updateDocumentHistory();
                
                alert(currentLanguage === 'ar' ? 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„Ø³Ø¬Ù„' : 'Document sauvegardÃ© dans l\'historique');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
            function updateDocumentHistory() {
                documentHistoryEl.innerHTML = '';
                
                if (documentHistory.length === 0) {
                    documentHistoryEl.innerHTML = currentLanguage === 'ar' 
                        ? '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ«Ø§Ø¦Ù‚ Ù…Ø­ÙÙˆØ¸Ø©</p>' 
                        : '<p>Aucun document sauvegardÃ©</p>';
                    return;
                }
                
                documentHistory.forEach(doc => {
                    const docEl = document.createElement('div');
                    docEl.className = 'card';
                    docEl.style.marginBottom = '10px';
                    
                    const docTypeText = currentLanguage === 'ar' 
                        ? getArabicDocType(doc.type) 
                        : getFrenchDocType(doc.type);
                    
                    docEl.innerHTML = `
                        <h3>${docTypeText}</h3>
                        <p><small>${doc.date}</small></p>
                        <pre style="white-space: pre-wrap; max-height: 150px; overflow: auto; background: #f5f5f5; padding: 10px; border-radius: 5px;">${doc.content.substring(0, 200)}...</pre>
                        <button class="btn view-doc-btn" data-id="${doc.id}" style="margin-top: 10px;">
                            ${currentLanguage === 'ar' ? 'Ø¹Ø±Ø¶ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©' : 'Voir le document'}
                        </button>
                    `;
                    
                    documentHistoryEl.appendChild(docEl);
                });
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ø±Ø¶
                document.querySelectorAll('.view-doc-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const docId = this.getAttribute('data-id');
                        const doc = documentHistory.find(d => d.id == docId);
                        
                        if (doc) {
                            documentPreview.textContent = doc.content;
                            
                            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
                            tabs.forEach(t => t.classList.remove('active'));
                            document.querySelector('.tab[data-tab="preview"]').classList.add('active');
                            tabContents.forEach(content => content.classList.remove('active'));
                            document.getElementById('previewTab').classList.add('active');
                        }
                    });
                });
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Øµ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            function getArabicDocType(type) {
                const types = {
                    'affidavit': 'ØªØµØ±ÙŠØ­ Ø´Ø±ÙÙŠ',
                    'request': 'Ø·Ù„Ø¨ Ø®Ø·ÙŠ',
                    'rental': 'Ø¹Ù‚Ø¯ ÙƒØ±Ø§Ø¡',
                    'sale': 'Ø¹Ù‚Ø¯ Ø¨ÙŠØ¹',
                    'carSale': 'Ù…Ø­Ø¶Ø± Ø¨ÙŠØ¹ Ø³ÙŠØ§Ø±Ø©',
                    'powerOfAttorney': 'ÙˆÙƒØ§Ù„Ø©/ØªÙÙˆÙŠØ¶',
                    'workPermit': 'Ø·Ù„Ø¨ ØªØµØ±ÙŠØ­ Ø¹Ù…Ù„',
                    'schoolRegistration': 'Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¯Ø±Ø³ÙŠ',
                    'goodConduct': 'Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© Ø­Ø³Ù† Ø§Ù„Ø³ÙŠØ±Ø©',
                    'partnership': 'Ø¹Ù‚Ø¯ Ø´Ø±Ø§ÙƒØ©',
                    'temporaryResidence': 'ØªØµØ±ÙŠØ­ Ø³ÙƒÙ† Ù…Ø¤Ù‚Øª',
                    'resignation': 'Ù†Ù…ÙˆØ°Ø¬ Ø§Ø³ØªÙ‚Ø§Ù„Ø©',
                    'cv': 'Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©'
                };
                
                return types[type] || type;
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Øµ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©
            function getFrenchDocType(type) {
                const types = {
                    'affidavit': 'DÃ©claration sur l\'Honneur',
                    'request': 'Demande Ã‰crite',
                    'rental': 'Contrat de Location',
                    'sale': 'Contrat de Vente',
                    'carSale': 'ProcÃ¨s-verbal de Vente de Voiture',
                    'powerOfAttorney': 'Procuration/Mandat',
                    'workPermit': 'Demande de Permis de Travail',
                    'schoolRegistration': 'Demande d\'Inscription Scolaire',
                    'goodConduct': 'Demande de Certificat de Bonne Conduite',
                    'partnership': 'Contrat de Partenariat',
                    'temporaryResidence': 'Autorisation de RÃ©sidence Temporaire',
                    'resignation': 'ModÃ¨le de DÃ©mission',
                    'cv': 'Curriculum Vitae'
                };
                
                return types[type] || type;
            }
            
            // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            function collectPersonalData() {
                personalData = {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    birthDate: document.getElementById('birthDate').value,
                    birthPlace: document.getElementById('birthPlace').value,
                    state: document.getElementById('state').value,
                    municipality: document.getElementById('municipality').value,
                    district: document.getElementById('district').value,
                    address: document.getElementById('address').value,
                    nationality: document.getElementById('nationality').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    profession: document.getElementById('profession').value,
                    height: document.getElementById('height').value,
                    notes: document.getElementById('notes').value
                };
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙÙŠ localStorage
            function savePersonalData() {
                collectPersonalData();
                localStorage.setItem('personalData', JSON.stringify(personalData));
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© Ù…Ù† localStorage
            function loadSavedData() {
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
                const savedPersonalData = localStorage.getItem('personalData');
                if (savedPersonalData) {
                    personalData = JSON.parse(savedPersonalData);
                    
                    // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                    document.getElementById('firstName').value = personalData.firstName || '';
                    document.getElementById('lastName').value = personalData.lastName || '';
                    document.getElementById('birthDate').value = personalData.birthDate || '';
                    document.getElementById('birthPlace').value = personalData.birthPlace || '';
                    document.getElementById('state').value = personalData.state || '';
                    document.getElementById('municipality').value = personalData.municipality || '';
                    document.getElementById('district').value = personalData.district || '';
                    document.getElementById('address').value = personalData.address || '';
                    document.getElementById('nationality').value = personalData.nationality || 'Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©';
                    document.getElementById('phone').value = personalData.phone || '';
                    document.getElementById('email').value = personalData.email || '';
                    document.getElementById('profession').value = personalData.profession || '';
                    document.getElementById('height').value = personalData.height || '';
                    document.getElementById('notes').value = personalData.notes || '';
                }
                
                // ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
                const savedHistory = localStorage.getItem('documentHistory');
                if (savedHistory) {
                    documentHistory = JSON.parse(savedHistory);
                    updateDocumentHistory();
                }
            }
            
            // Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
            function clearPersonalData() {
                document.getElementById('firstName').value = '';
                document.getElementById('lastName').value = '';
                document.getElementById('birthDate').value = '';
                document.getElementById('birthPlace').value = '';
                document.getElementById('state').value = '';
                document.getElementById('municipality').value = '';
                document.getElementById('district').value = '';
                document.getElementById('address').value = '';
                document.getElementById('nationality').value = 'Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©';
                document.getElementById('phone').value = '';
                document.getElementById('email').value = '';
                document.getElementById('profession').value = '';
                document.getElementById('height').value = '';
                document.getElementById('notes').value = '';
                
                personalData = {};
                localStorage.removeItem('personalData');
            }
            
            // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
            updateLanguage();
            updateThemeText();
        });
    </script>
</body>
</html>
